
//*****************************************************
// <auto-generated>
//   Generated by the cybtans protocol buffer compiler.  DO NOT EDIT!
//   Powered By Cybtans    
// </auto-generated>
//******************************************************

using System;
using GraphQL;
using GraphQL.Types;
using Microsoft.Extensions.DependencyInjection;
using Microsoft.AspNetCore.Authorization;
using Microsoft.AspNetCore.Http;
using Cybtans.Tests.Models;

namespace Cybtans.Tests.Gateway.GraphQL
{
	public class GetAllCustomerResponseGraphType : ObjectGraphType<GetAllCustomerResponse>
	{
		public GetAllCustomerResponseGraphType()
		{
			Field<ListGraphType<CustomerDtoGraphType>>("Items");
			Field(x => x.Page);
			Field(x => x.TotalPages);
			Field(x => x.TotalCount);
		
		}
	}
	
	
	public class CustomerDtoGraphType : ObjectGraphType<CustomerDto>
	{
		public CustomerDtoGraphType()
		{
			Field(x => x.Name).Description("Customer's Name");
			Field(x => x.FirstLastName, nullable:true).Description("Customer's FirstLastName");
			Field(x => x.SecondLastName, nullable:true).Description("Customer's SecondLastName");
			Field(x => x.CustomerProfileId, nullable:true).Description("Customer's Profile Id, can be null");
			Field<CustomerProfileDtoGraphType>("CustomerProfile");
			Field(x => x.Id);
			Field<DateTimeGraphType>("CreateDate");
			Field<DateTimeGraphType>("UpdateDate");
		
		}
	}
	
	
	public class CustomerProfileDtoGraphType : ObjectGraphType<CustomerProfileDto>
	{
		public CustomerProfileDtoGraphType()
		{
			Field(x => x.Name, nullable:true);
			Field(x => x.Id);
			Field<DateTimeGraphType>("CreateDate");
			Field<DateTimeGraphType>("UpdateDate");
		
		}
	}
	
	
	public class GetAllCustomerEventResponseGraphType : ObjectGraphType<GetAllCustomerEventResponse>
	{
		public GetAllCustomerEventResponseGraphType()
		{
			Field<ListGraphType<CustomerEventDtoGraphType>>("Items");
			Field(x => x.Page);
			Field(x => x.TotalPages);
			Field(x => x.TotalCount);
		
		}
	}
	
	
	public class CustomerEventDtoGraphType : ObjectGraphType<CustomerEventDto>
	{
		public CustomerEventDtoGraphType()
		{
			Field(x => x.FullName, nullable:true);
			Field(x => x.CustomerProfileId, nullable:true);
			Field(x => x.Id);
		
		}
	}
	
	
	public class GetAllOrderResponseGraphType : ObjectGraphType<GetAllOrderResponse>
	{
		public GetAllOrderResponseGraphType()
		{
			Field<ListGraphType<OrderDtoGraphType>>("Items");
			Field(x => x.Page);
			Field(x => x.TotalPages);
			Field(x => x.TotalCount);
		
		}
	}
	
	
	public class OrderDtoGraphType : ObjectGraphType<OrderDto>
	{
		public OrderDtoGraphType()
		{
			Field(x => x.Description, nullable:true);
			Field(x => x.CustomerId);
			Field(x => x.OrderStateId);
			Field<OrderTypeEnumGraphType>("OrderType");
			Field<OrderStateDtoGraphType>("OrderState");
			Field<CustomerDtoGraphType>("Customer", description:"Customer");
			Field<ListGraphType<OrderItemDtoGraphType>>("Items");
			Field(x => x.Id);
			Field<DateTimeGraphType>("CreateDate");
			Field<DateTimeGraphType>("UpdateDate");
		
		}
	}
	
	
	public class OrderTypeEnumGraphType : EnumerationGraphType<OrderTypeEnum>
	{
	}
	
	
	public class OrderStateDtoGraphType : ObjectGraphType<OrderStateDto>
	{
		public OrderStateDtoGraphType()
		{
			Field(x => x.Name, nullable:true);
			Field(x => x.Id);
		
		}
	}
	
	
	public class OrderItemDtoGraphType : ObjectGraphType<OrderItemDto>
	{
		public OrderItemDtoGraphType()
		{
			Field(x => x.ProductName, nullable:true);
			Field(x => x.Price);
			Field(x => x.Discount, nullable:true);
			Field(x => x.OrderId);
			Field(x => x.ProductId, nullable:true);
			Field<ProductDtoGraphType>("Product");
			Field(x => x.Id);
		
		}
	}
	
	
	public class ProductDtoGraphType : ObjectGraphType<ProductDto>
	{
		public ProductDtoGraphType()
		{
			Field(x => x.Name, nullable:true);
			Field(x => x.Model, nullable:true);
			Field(x => x.Id);
		
		}
	}
	
	
	public class GetAllOrderStateResponseGraphType : ObjectGraphType<GetAllOrderStateResponse>
	{
		public GetAllOrderStateResponseGraphType()
		{
			Field<ListGraphType<OrderStateDtoGraphType>>("Items");
			Field(x => x.Page);
			Field(x => x.TotalPages);
			Field(x => x.TotalCount);
		
		}
	}
	
	
	public class GetAllReadOnlyEntityResponseGraphType : ObjectGraphType<GetAllReadOnlyEntityResponse>
	{
		public GetAllReadOnlyEntityResponseGraphType()
		{
			Field<ListGraphType<ReadOnlyEntityDtoGraphType>>("Items");
			Field(x => x.Page);
			Field(x => x.TotalPages);
			Field(x => x.TotalCount);
		
		}
	}
	
	
	public class ReadOnlyEntityDtoGraphType : ObjectGraphType<ReadOnlyEntityDto>
	{
		public ReadOnlyEntityDtoGraphType()
		{
			Field(x => x.Name, nullable:true);
			Field<DateTimeGraphType>("CreateDate");
			Field<DateTimeGraphType>("UpdateDate");
			Field(x => x.Id);
		
		}
	}
	
	
	public class GetAllSoftDeleteOrderResponseGraphType : ObjectGraphType<GetAllSoftDeleteOrderResponse>
	{
		public GetAllSoftDeleteOrderResponseGraphType()
		{
			Field<ListGraphType<SoftDeleteOrderDtoGraphType>>("Items");
			Field(x => x.Page);
			Field(x => x.TotalPages);
			Field(x => x.TotalCount);
		
		}
	}
	
	
	public class SoftDeleteOrderDtoGraphType : ObjectGraphType<SoftDeleteOrderDto>
	{
		public SoftDeleteOrderDtoGraphType()
		{
			Field(x => x.Name, nullable:true);
			Field(x => x.IsDeleted);
			Field<ListGraphType<SoftDeleteOrderItemDtoGraphType>>("Items");
			Field(x => x.Id);
			Field<DateTimeGraphType>("CreateDate");
			Field<DateTimeGraphType>("UpdateDate");
		
		}
	}
	
	
	public class SoftDeleteOrderItemDtoGraphType : ObjectGraphType<SoftDeleteOrderItemDto>
	{
		public SoftDeleteOrderItemDtoGraphType()
		{
			Field(x => x.Name, nullable:true);
			Field(x => x.IsDeleted);
			Field(x => x.SoftDeleteOrderId);
			Field(x => x.Id);
			Field<DateTimeGraphType>("CreateDate");
			Field<DateTimeGraphType>("UpdateDate");
		
		}
	}
	
	
	public class DowndloadImageResponseGraphType : ObjectGraphType<DowndloadImageResponse>
	{
		public DowndloadImageResponseGraphType()
		{
			Field(x => x.FileName, nullable:true);
			Field(x => x.ContentType, nullable:true);
		
		}
	}
	
	
	public class GetAllNamesResponseGraphType : ObjectGraphType<GetAllNamesResponse>
	{
		public GetAllNamesResponseGraphType()
		{
			Field<ListGraphType<OrderNamesDtoGraphType>>("Items");
		
		}
	}
	
	
	public class OrderNamesDtoGraphType : ObjectGraphType<OrderNamesDto>
	{
		public OrderNamesDtoGraphType()
		{
			Field(x => x.Id, nullable:true);
			Field(x => x.Description, nullable:true);
		
		}
	}
	
	
	public class ClientDtoGraphType : ObjectGraphType<ClientDto>
	{
		public ClientDtoGraphType()
		{
			Field(x => x.Id);
			Field(x => x.Name, nullable:true);
			Field(x => x.ClientTypeId);
			Field(x => x.ClientStatusId, nullable:true);
			Field<DateTimeGraphType>("CreatedAt");
			Field(x => x.CreatorId);
		
		}
	}
	
	
	public partial class GraphQLQueryDefinitions : ObjectGraphType
	{
		public void AddTestDefinitions()
		{
			#region CustomerService
			
			FieldAsync<GetAllCustomerResponseGraphType>("customers",
			 	description: "Returns a collection of CustomerDto",
				arguments: new QueryArguments()
				{
					new QueryArgument<StringGraphType>(){ Name = "Filter" },
					new QueryArgument<StringGraphType>(){ Name = "Sort" },
					new QueryArgument<IntGraphType>(){ Name = "Skip" },
					new QueryArgument<IntGraphType>(){ Name = "Take" },
				},
				resolve: async context =>
				{
					var request = new GetAllRequest();
					request.Filter = context.GetArgument<string>("filter", default(string));
					request.Sort = context.GetArgument<string>("sort", default(string));
					request.Skip = context.GetArgument<int?>("skip", default(int?));
					request.Take = context.GetArgument<int?>("take", default(int?));
					
					var httpContext = context.RequestServices.GetRequiredService<IHttpContextAccessor>().HttpContext;
					var authorizationService = context.RequestServices.GetRequiredService<IAuthorizationService>();
					var policyResult = await authorizationService.AuthorizeAsync(httpContext.User, httpContext, "AdminUser").ConfigureAwait(false);
					if (!policyResult.Succeeded)
					{
						 throw new UnauthorizedAccessException($"Authorization Failed: { string.Join(", ", policyResult.Failure.FailedRequirements) }");
					}
					
					var service = context.RequestServices.GetRequiredService<global::Cybtans.Tests.Clients.ICustomerServiceClient>();
					var result = await service.GetAll(request).ConfigureAwait(false);
					return result;
				}
			);
			
			FieldAsync<CustomerDtoGraphType>("customer",
			 	description: "Returns one CustomerDto by Id",
				arguments: new QueryArguments()
				{
					new QueryArgument<GuidGraphType>(){ Name = "Id" },
				},
				resolve: async context =>
				{
					var request = new GetCustomerRequest();
					request.Id = context.GetArgument<Guid>("id", default(Guid));
					
					var httpContext = context.RequestServices.GetRequiredService<IHttpContextAccessor>().HttpContext;
					var authorizationService = context.RequestServices.GetRequiredService<IAuthorizationService>();
					var policyResult = await authorizationService.AuthorizeAsync(httpContext.User, httpContext, "AdminUser").ConfigureAwait(false);
					if (!policyResult.Succeeded)
					{
						 throw new UnauthorizedAccessException($"Authorization Failed: { string.Join(", ", policyResult.Failure.FailedRequirements) }");
					}
					
					var service = context.RequestServices.GetRequiredService<global::Cybtans.Tests.Clients.ICustomerServiceClient>();
					var result = await service.Get(request).ConfigureAwait(false);
					return result;
				}
			);
			
			#endregion CustomerService
			
			#region CustomerEventService
			
			FieldAsync<GetAllCustomerEventResponseGraphType>("customerEvents",
			 	description: "Returns a collection of CustomerEventDto",
				arguments: new QueryArguments()
				{
					new QueryArgument<StringGraphType>(){ Name = "Filter" },
					new QueryArgument<StringGraphType>(){ Name = "Sort" },
					new QueryArgument<IntGraphType>(){ Name = "Skip" },
					new QueryArgument<IntGraphType>(){ Name = "Take" },
				},
				resolve: async context =>
				{
					var request = new GetAllRequest();
					request.Filter = context.GetArgument<string>("filter", default(string));
					request.Sort = context.GetArgument<string>("sort", default(string));
					request.Skip = context.GetArgument<int?>("skip", default(int?));
					request.Take = context.GetArgument<int?>("take", default(int?));
					
					var httpContext = context.RequestServices.GetRequiredService<IHttpContextAccessor>().HttpContext;
					if (!httpContext.User.Identity.IsAuthenticated)
					{
						 throw new UnauthorizedAccessException("Authentication Required");
					}
					
					var service = context.RequestServices.GetRequiredService<global::Cybtans.Tests.Clients.ICustomerEventServiceClient>();
					var result = await service.GetAll(request).ConfigureAwait(false);
					return result;
				}
			);
			
			FieldAsync<CustomerEventDtoGraphType>("customerEvent",
			 	description: "Returns one CustomerEventDto by Id",
				arguments: new QueryArguments()
				{
					new QueryArgument<GuidGraphType>(){ Name = "Id" },
				},
				resolve: async context =>
				{
					var request = new GetCustomerEventRequest();
					request.Id = context.GetArgument<Guid>("id", default(Guid));
					
					var httpContext = context.RequestServices.GetRequiredService<IHttpContextAccessor>().HttpContext;
					if (!httpContext.User.Identity.IsAuthenticated)
					{
						 throw new UnauthorizedAccessException("Authentication Required");
					}
					
					var service = context.RequestServices.GetRequiredService<global::Cybtans.Tests.Clients.ICustomerEventServiceClient>();
					var result = await service.Get(request).ConfigureAwait(false);
					return result;
				}
			);
			
			#endregion CustomerEventService
			
			#region OrderService
			
			FieldAsync<DowndloadImageResponseGraphType>("OrderService_DownloadImage",
			 	arguments: new QueryArguments()
				{
					new QueryArgument<StringGraphType>(){ Name = "Name" },
				},
				resolve: async context =>
				{
					var request = new DownloadImageRequest();
					request.Name = context.GetArgument<string>("name", default(string));
					
					var service = context.RequestServices.GetRequiredService<global::Cybtans.Tests.Clients.IOrderServiceClient>();
					var result = await service.DownloadImage(request).ConfigureAwait(false);
					return result;
				}
			);
			
			FieldAsync<GetAllNamesResponseGraphType>("ordernames",
			 	resolve: async context =>
				{
					var service = context.RequestServices.GetRequiredService<global::Cybtans.Tests.Clients.IOrderServiceClient>();
					var result = await service.GetAllNames().ConfigureAwait(false);
					return result;
				}
			);
			
			FieldAsync<OrderNamesDtoGraphType>("OrderService_OrderName",
			 	arguments: new QueryArguments()
				{
					new QueryArgument<StringGraphType>(){ Name = "Id" },
				},
				resolve: async context =>
				{
					var request = new GetOrderNameRequest();
					request.Id = context.GetArgument<string>("id", default(string));
					
					var service = context.RequestServices.GetRequiredService<global::Cybtans.Tests.Clients.IOrderServiceClient>();
					var result = await service.GetOrderName(request).ConfigureAwait(false);
					return result;
				}
			);
			
			FieldAsync<GetAllOrderResponseGraphType>("orders",
			 	description: "Returns a collection of OrderDto",
				arguments: new QueryArguments()
				{
					new QueryArgument<StringGraphType>(){ Name = "Filter" },
					new QueryArgument<StringGraphType>(){ Name = "Sort" },
					new QueryArgument<IntGraphType>(){ Name = "Skip" },
					new QueryArgument<IntGraphType>(){ Name = "Take" },
				},
				resolve: async context =>
				{
					var request = new GetAllRequest();
					request.Filter = context.GetArgument<string>("filter", default(string));
					request.Sort = context.GetArgument<string>("sort", default(string));
					request.Skip = context.GetArgument<int?>("skip", default(int?));
					request.Take = context.GetArgument<int?>("take", default(int?));
					
					var service = context.RequestServices.GetRequiredService<global::Cybtans.Tests.Clients.IOrderServiceClient>();
					var result = await service.GetAll(request).ConfigureAwait(false);
					return result;
				}
			);
			
			FieldAsync<OrderDtoGraphType>("order",
			 	description: "Returns one OrderDto by Id",
				arguments: new QueryArguments()
				{
					new QueryArgument<GuidGraphType>(){ Name = "Id" },
				},
				resolve: async context =>
				{
					var request = new GetOrderRequest();
					request.Id = context.GetArgument<Guid>("id", default(Guid));
					
					var service = context.RequestServices.GetRequiredService<global::Cybtans.Tests.Clients.IOrderServiceClient>();
					var result = await service.Get(request).ConfigureAwait(false);
					return result;
				}
			);
			
			#endregion OrderService
			
			#region OrderStateService
			
			FieldAsync<GetAllOrderStateResponseGraphType>("orderStates",
			 	description: "Returns a collection of OrderStateDto",
				arguments: new QueryArguments()
				{
					new QueryArgument<StringGraphType>(){ Name = "Filter" },
					new QueryArgument<StringGraphType>(){ Name = "Sort" },
					new QueryArgument<IntGraphType>(){ Name = "Skip" },
					new QueryArgument<IntGraphType>(){ Name = "Take" },
				},
				resolve: async context =>
				{
					var request = new GetAllRequest();
					request.Filter = context.GetArgument<string>("filter", default(string));
					request.Sort = context.GetArgument<string>("sort", default(string));
					request.Skip = context.GetArgument<int?>("skip", default(int?));
					request.Take = context.GetArgument<int?>("take", default(int?));
					
					var httpContext = context.RequestServices.GetRequiredService<IHttpContextAccessor>().HttpContext;
					if (!httpContext.User.IsInRole("admin"))
					{
						 throw new UnauthorizedAccessException("Roles Authorization Required");
					}
					
					var service = context.RequestServices.GetRequiredService<global::Cybtans.Tests.Clients.IOrderStateServiceClient>();
					var result = await service.GetAll(request).ConfigureAwait(false);
					return result;
				}
			);
			
			FieldAsync<OrderStateDtoGraphType>("orderState",
			 	description: "Returns one OrderStateDto by Id",
				arguments: new QueryArguments()
				{
					new QueryArgument<IntGraphType>(){ Name = "Id" },
				},
				resolve: async context =>
				{
					var request = new GetOrderStateRequest();
					request.Id = context.GetArgument<int>("id", default(int));
					
					var httpContext = context.RequestServices.GetRequiredService<IHttpContextAccessor>().HttpContext;
					if (!httpContext.User.IsInRole("admin"))
					{
						 throw new UnauthorizedAccessException("Roles Authorization Required");
					}
					
					var service = context.RequestServices.GetRequiredService<global::Cybtans.Tests.Clients.IOrderStateServiceClient>();
					var result = await service.Get(request).ConfigureAwait(false);
					return result;
				}
			);
			
			#endregion OrderStateService
			
			#region ReadOnlyEntityService
			
			FieldAsync<GetAllReadOnlyEntityResponseGraphType>("readOnlyEntities",
			 	description: "Returns a collection of ReadOnlyEntityDto",
				arguments: new QueryArguments()
				{
					new QueryArgument<StringGraphType>(){ Name = "Filter" },
					new QueryArgument<StringGraphType>(){ Name = "Sort" },
					new QueryArgument<IntGraphType>(){ Name = "Skip" },
					new QueryArgument<IntGraphType>(){ Name = "Take" },
				},
				resolve: async context =>
				{
					var request = new GetAllRequest();
					request.Filter = context.GetArgument<string>("filter", default(string));
					request.Sort = context.GetArgument<string>("sort", default(string));
					request.Skip = context.GetArgument<int?>("skip", default(int?));
					request.Take = context.GetArgument<int?>("take", default(int?));
					
					var httpContext = context.RequestServices.GetRequiredService<IHttpContextAccessor>().HttpContext;
					if (!httpContext.User.IsInRole("admin"))
					{
						 throw new UnauthorizedAccessException("Roles Authorization Required");
					}
					
					var service = context.RequestServices.GetRequiredService<global::Cybtans.Tests.Clients.IReadOnlyEntityServiceClient>();
					var result = await service.GetAll(request).ConfigureAwait(false);
					return result;
				}
			);
			
			FieldAsync<ReadOnlyEntityDtoGraphType>("readOnlyEntity",
			 	description: "Returns one ReadOnlyEntityDto by Id",
				arguments: new QueryArguments()
				{
					new QueryArgument<IntGraphType>(){ Name = "Id" },
				},
				resolve: async context =>
				{
					var request = new GetReadOnlyEntityRequest();
					request.Id = context.GetArgument<int>("id", default(int));
					
					var httpContext = context.RequestServices.GetRequiredService<IHttpContextAccessor>().HttpContext;
					if (!httpContext.User.IsInRole("admin"))
					{
						 throw new UnauthorizedAccessException("Roles Authorization Required");
					}
					
					var service = context.RequestServices.GetRequiredService<global::Cybtans.Tests.Clients.IReadOnlyEntityServiceClient>();
					var result = await service.Get(request).ConfigureAwait(false);
					return result;
				}
			);
			
			#endregion ReadOnlyEntityService
			
			#region SoftDeleteOrderService
			
			FieldAsync<GetAllSoftDeleteOrderResponseGraphType>("softDeleteOrders",
			 	description: "Returns a collection of SoftDeleteOrderDto",
				arguments: new QueryArguments()
				{
					new QueryArgument<StringGraphType>(){ Name = "Filter" },
					new QueryArgument<StringGraphType>(){ Name = "Sort" },
					new QueryArgument<IntGraphType>(){ Name = "Skip" },
					new QueryArgument<IntGraphType>(){ Name = "Take" },
				},
				resolve: async context =>
				{
					var request = new GetAllRequest();
					request.Filter = context.GetArgument<string>("filter", default(string));
					request.Sort = context.GetArgument<string>("sort", default(string));
					request.Skip = context.GetArgument<int?>("skip", default(int?));
					request.Take = context.GetArgument<int?>("take", default(int?));
					
					var service = context.RequestServices.GetRequiredService<global::Cybtans.Tests.Clients.ISoftDeleteOrderServiceClient>();
					var result = await service.GetAll(request).ConfigureAwait(false);
					return result;
				}
			);
			
			FieldAsync<SoftDeleteOrderDtoGraphType>("softDeleteOrder",
			 	description: "Returns one SoftDeleteOrderDto by Id",
				arguments: new QueryArguments()
				{
					new QueryArgument<GuidGraphType>(){ Name = "Id" },
				},
				resolve: async context =>
				{
					var request = new GetSoftDeleteOrderRequest();
					request.Id = context.GetArgument<Guid>("id", default(Guid));
					
					var service = context.RequestServices.GetRequiredService<global::Cybtans.Tests.Clients.ISoftDeleteOrderServiceClient>();
					var result = await service.Get(request).ConfigureAwait(false);
					return result;
				}
			);
			
			#endregion SoftDeleteOrderService
			
			#region ClientService
			
			FieldAsync<ClientDtoGraphType>("ClientService_Client",
			 	arguments: new QueryArguments()
				{
					new QueryArgument<NonNullGraphType<GuidGraphType>>(){ Name = "Id" },
				},
				resolve: async context =>
				{
					var request = new ClientRequest();
					request.Id = context.GetArgument<Guid>("id", default(Guid));
					
					var httpContext = context.RequestServices.GetRequiredService<IHttpContextAccessor>().HttpContext;
					if (!httpContext.User.Identity.IsAuthenticated)
					{
						 throw new UnauthorizedAccessException("Authentication Required");
					}
					
					var authorizationService = context.RequestServices.GetRequiredService<IAuthorizationService>();
					var policyResult = await authorizationService.AuthorizeAsync(httpContext.User, request, "ClientPolicy").ConfigureAwait(false);
					if (!policyResult.Succeeded)
					{
						 throw new UnauthorizedAccessException($"Request Authorization Failed: { string.Join(", ", policyResult.Failure.FailedRequirements) }");
					}
					
					var service = context.RequestServices.GetRequiredService<global::Cybtans.Tests.Clients.IClientServiceClient>();
					var result = await service.GetClient(request).ConfigureAwait(false);
					if (result != null)
					{
						policyResult = await authorizationService.AuthorizeAsync(httpContext.User, result, "ClientCreator").ConfigureAwait(false);
						if (!policyResult.Succeeded)
						{
							 throw new UnauthorizedAccessException($"Result Authorization Failed: { string.Join(", ", policyResult.Failure.FailedRequirements) }");
						}
					}
					
					return result;
				}
			);
			
			FieldAsync<ClientDtoGraphType>("ClientService_Client2",
			 	arguments: new QueryArguments()
				{
					new QueryArgument<NonNullGraphType<GuidGraphType>>(){ Name = "Id" },
				},
				resolve: async context =>
				{
					var request = new ClientRequest();
					request.Id = context.GetArgument<Guid>("id", default(Guid));
					
					var httpContext = context.RequestServices.GetRequiredService<IHttpContextAccessor>().HttpContext;
					if (!httpContext.User.Identity.IsAuthenticated)
					{
						 throw new UnauthorizedAccessException("Authentication Required");
					}
					
					var authorizationService = context.RequestServices.GetRequiredService<IAuthorizationService>();
					var policyResult = await authorizationService.AuthorizeAsync(httpContext.User, request, "ClientPolicy").ConfigureAwait(false);
					if (!policyResult.Succeeded)
					{
						 throw new UnauthorizedAccessException($"Request Authorization Failed: { string.Join(", ", policyResult.Failure.FailedRequirements) }");
					}
					
					var service = context.RequestServices.GetRequiredService<global::Cybtans.Tests.Clients.IClientServiceClient>();
					var result = await service.GetClient2(request).ConfigureAwait(false);
					return result;
				}
			);
			
			FieldAsync<ClientDtoGraphType>("ClientService_Client3",
			 	arguments: new QueryArguments()
				{
					new QueryArgument<NonNullGraphType<GuidGraphType>>(){ Name = "Id" },
				},
				resolve: async context =>
				{
					var request = new ClientRequest();
					request.Id = context.GetArgument<Guid>("id", default(Guid));
					
					var httpContext = context.RequestServices.GetRequiredService<IHttpContextAccessor>().HttpContext;
					if (!httpContext.User.Identity.IsAuthenticated)
					{
						 throw new UnauthorizedAccessException("Authentication Required");
					}
					
					var service = context.RequestServices.GetRequiredService<global::Cybtans.Tests.Clients.IClientServiceClient>();
					var result = await service.GetClient3(request).ConfigureAwait(false);
					if (result != null)
					{
						var authorizationService = context.RequestServices.GetRequiredService<IAuthorizationService>();
						var policyResult = await authorizationService.AuthorizeAsync(httpContext.User, result, "ClientCreator").ConfigureAwait(false);
						if (!policyResult.Succeeded)
						{
							 throw new UnauthorizedAccessException($"Result Authorization Failed: { string.Join(", ", policyResult.Failure.FailedRequirements) }");
						}
					}
					
					return result;
				}
			);
			
			#endregion ClientService
			
		
		}}
	

}
